JWT = JSON Web Token


https://jasonwatmore.com/post/2021/06/02/net-5-create-and-validate-jwt-tokens-use-custom-jwt-middleware
https://jasonwatmore.com/post/2021/05/25/net-5-simple-api-for-authentication-registration-and-user-management
https://fuse8.ru/articles/using-asp-net-core-identity-and-jwt

// Check Token Validated with Custom Authorize Attribute
https://jasonwatmore.com/post/2021/06/02/net-5-create-and-validate-jwt-tokens-use-custom-jwt-middleware


https://jasonwatmore.com/post/2019/10/11/aspnet-core-3-jwt-authentication-tutorial-with-example-api

[AllowAnonymous] иммет приоритет над [Authorized] !!!
Если весь контроллер сделан анонимным, то отдельные методы нельзя сделать Авторизированными.
Лучше весь контроллер сделать авторизированным, а отдельные методы анонимными!!!!!!!!!!!!



            var user = await _userManager.FindByIdAsync(userId);
            var userRoles = await _userManager.GetRolesAsync(user);
            var allRoles = _roleManager.Roles.ToList();




Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoidXNlciIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNjRkYmIxOTktMGE5NS00ZjFhLWFmY2YtMTBjYzgyN2ZkM2M4IiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsIm5iZiI6MTYzNTgwMzM4NCwiZXhwIjoxNjQwOTg3Mzg0fQ.GN21M04PktaL8L_BbEvze7v46KiMLc7V5qSNU2XNCys


Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoibW9kZXJhdG9yIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiJhMGQ3NDE5OS0yYWQ1LTRkMmYtYTE4NC1lYjUyZjViZjkwOTQiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNb2RlcmF0b3IiLCJuYmYiOjE2MzU4MzUwMzEsImV4cCI6MTY0MTAxOTAzMX0.TtW-sAvzksEIb3fFgrlUdvRdZg7ZK2ss1Uu_TkjFT50


Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijc1N2Q1MjkwLWQwMzYtNDc1Ny04NWFlLTgyN2I1OWU5MmNkMyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwibmJmIjoxNjM1ODM1MDc5LCJleHAiOjE2NDEwMTkwNzl9.IT1hs9_Mah7S61PUkPot3SOaq5KIazJAIJ20Osbhwi8